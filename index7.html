<html>
<head>
    <title>Simple Animation</title>
    <script type="text/javascript" src="js/jquery.js"></script>
    <script type="text/javascript" src="js/jquery-1.9.1.js"></script>

    <script type="text/javascript" src="js/jquery.transit.min.js"></script>
   <script type="text/javascript">

    $.fx.speeds._default = 3000; //duration transit

    var cwidth = 800;
    var cheight =900;
    var context;
    var canvas1;
 

    var img=["pollo.png", "carne.png", "queso.png", "sello.png"];
/*
-------------------------------------------------------------------------------
    transicion 
-------------------------------------------------------------------------------
*/
    window.requestAnimFrame = (function(callback) {
        return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame ||
        function(callback) {
          window.setTimeout(callback, 1000 / 60);
        };
      })();

    function init() {
        //carritoCompras();
        /*
        ------------------------------
        creacion de objetos
        ------------------------------
        */
        canvas1 = document.getElementById('canvas');
        context = document.getElementById('canvas').getContext('2d');
        
        ranImage(1);
        //canvas1.addEventListener('click',ranImage,false);
     
        context.strokeRect(0,0,cwidth,cheight);
        carrito = carritoCompras(); //crear carrito de compras

        isCollide(ranImage(), carrito);

        /*
        -------------------------------
        transicion 
        -------------------------------
        */
        
        // wait one second before starting animation


        /*
        ----------------------------------------
        limpio elementos cuando se van creando
        ----------------------------------------
        */
        clear();

       // setInterval(function(){ 
       //   clear(); 
       // },3000); //mismo tiempo de duration transit
    }


function carritoCompras(){
    var imagenCarrito = new Image();
 
    imagenCarrito.onload = function(){
        context.drawImage(imagenCarrito, 0, 0, 206, 175);
    };
    imagenCarrito.src = "img/carrito.png";
    return (imagenCarrito);

}


function ranImage(ev) {
    
    var ranImg = parseInt(Math.random() * 4);
    var newImage = new Image();
    
    //newImage.src = 'img/'+img[ranImg];
    newImage.src = 'img/pollo.png';
    var mx = 0;
    var my = 0;

    context.clearRect(0,0,cwidth,cheight);
    context.strokeRect(0,0,cwidth,cheight);
        
    context.drawImage(newImage,mx,my, 80,80);
    return (newImage);
}




/*
------------------------------------------------------------------------------------------------
ANIMACION BASICA
-------------------------------------------------------------------------------
*/

function getRandomArbitary (min, max) {
    var num =  Math.floor(Math.random() * (max - min) + min);
    alert(num);
    return num; 
}



function clear(){
    /* ELIMINO A ELEMENTO POLLO 
        var elem = $("#canvas");
        var canvas = elem.get(0);
        var context = canvas.getContext("2d");

        context.clearRect(0, 0, canvas.width, canvas.height);
        context.beginPath();*/
    /* ------------------------ */
    //canvas1.width = canvas1.width;
   //   isCollide(canvs, carritos);
    //alert(a);
}




function isCollide(a, b) {
    es = !(
        ((b.y + b.height) < (a.y)) ||
        (b.y > (a.y + a.height)) ||
        ((b.x + b.width) < a.x) ||
        (b.x > (a.x + a.width))
    );
    alert(es);
   return !(
        ((a.y + a.height) < (b.y)) ||
        (a.y > (b.y + b.height)) ||
        ((a.x + a.width) < b.x) ||
        (a.x > (b.x + b.width))
    );
}
</script>
</head>
<body onload="javascript:init()">
    <div>
        <canvas id="canvas" width="800" height="900"></canvas>
    </div>
     
</body>
</html>
